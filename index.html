<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Extranet UNDAC ¬∑ Sistema Acad√©mico</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .step.active {
      border-color: #1e3a8a;
      background: #dbeafe;
    }
    .hidden { display: none !important; }
    .fade-in {
      animation: fadeIn 0.3s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .btn-nav {
      padding: 0.5rem 1rem;
      transition: all 0.2s;
    }
    .btn-nav:hover {
      background: rgba(255,255,255,0.1);
    }
  </style>
</head>
<body class="bg-slate-100 text-slate-800">

  <!-- PANTALLA DE LOGIN -->
  <div id="loginScreen" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-800 to-blue-600 p-4">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8">
      <div class="flex justify-center mb-6">
        <div class="w-24 h-24 rounded-full bg-blue-100 flex items-center justify-center">
          <div class="w-20 h-20 rounded-full bg-white border-4 border-blue-600 flex items-center justify-center text-4xl font-bold text-blue-600">U</div>
        </div>
      </div>
      
      <h1 class="text-3xl font-bold text-center text-blue-900 mb-2">BIENVENIDO</h1>
      <p class="text-center text-slate-600 mb-6">Inicie sesi√≥n</p>
      
      <form id="loginForm" class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-2">Seleccione un Rol</label>
          <select id="rolSelect" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            <option value="">Seleccione un Rol</option>
            <option value="Alumno">Alumno</option>
            <option value="Docente">Docente</option>
            <option value="Admisi√≥n">Admisi√≥n</option>
            <option value="Bienestar Universitario">Bienestar Universitario</option>
            <option value="Contralor√≠a">Contralor√≠a</option>
            <option value="Curr√≠culo">Curr√≠culo</option>
            <option value="Decano Facultad">Decano Facultad</option>
            <option value="Egresado">Egresado</option>
            <option value="Estad√≠stica">Estad√≠stica</option>
            <option value="Inform√°tica">Inform√°tica</option>
            <option value="Pedagog√≠a">Pedagog√≠a</option>
            <option value="Rector">Rector</option>
            <option value="Registro Facultad">Registro Facultad</option>
            <option value="Registros Central">Registros Central</option>
            <option value="Soporte">Soporte</option>
            <option value="ViceAcademico">ViceAcademico</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-2">C√≥digo Universitario</label>
          <input type="text" id="codigoInput" placeholder="2144403166" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-2">Contrase√±a</label>
          <input type="password" id="passwordInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
        </div>
        
        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition">
          Ingresar
        </button>
        
        <p class="text-center text-sm text-slate-500">¬øOlvidaste tu contrase√±a?</p>
      </form>
    </div>
  </div>

  <!-- APLICACI√ìN PRINCIPAL -->
  <div id="appScreen" class="hidden">
    <!-- Barra superior AZUL FUNCIONAL -->
    <header class="bg-[#2f5597] text-white shadow-lg">
      <div class="px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 rounded-full bg-white flex items-center justify-center">
            <span class="text-2xl">üë§</span>
          </div>
          <div class="leading-tight">
            <div class="text-base font-bold">UNDAC 2.0</div>
            <div class="text-xs opacity-90">acad√©mico</div>
          </div>
          <div class="ml-4 border-l border-white/30 pl-4">
            <div class="text-sm font-semibold" id="headerNombre">POMA PALACIOS, Alisson Naily</div>
            <div class="text-xs opacity-90" id="headerPrograma">Adscrito Escuela Ingenier√≠a de Sistemas y Computaci√≥n</div>
          </div>
        </div>
        <nav class="flex items-center gap-1 text-sm">
          <button onclick="showModule('inicio')" class="btn-nav rounded flex items-center gap-2">
            <span>üè†</span>Inicio
          </button>
          <button onclick="showModule('perfil')" class="btn-nav rounded flex items-center gap-2">
            <span>üë§</span>Mi Perfil
          </button>
          <button onclick="showModule('pagos')" class="btn-nav rounded flex items-center gap-2">
            <span>üí≥</span>Pagos en l√≠nea
          </button>
          <button onclick="showModule('aula')" class="btn-nav rounded flex items-center gap-2">
            <span>üñ•Ô∏è</span>Aula Virtual
          </button>
          <button onclick="cerrarSesion()" class="btn-nav rounded flex items-center gap-2">
            <span>‚èª</span>Cerrar Sesi√≥n
          </button>
        </nav>
      </div>
    </header>

    <!-- M√≥dulo Inicio -->
    <div id="moduloInicio" class="module hidden min-h-screen">
      <div class="max-w-7xl mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold mb-6">Panel de Inicio</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
          <div class="bg-gradient-to-br from-blue-500 to-blue-700 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition cursor-pointer" onclick="showModule('arco')">
            <div class="text-5xl mb-4">üõ°Ô∏è</div>
            <h3 class="font-bold text-xl mb-2">Mesa de Partes Virtual</h3>
            <p class="text-blue-100 text-sm mb-3">Derecho al Olvido (ARCO)</p>
            <div class="text-xs bg-white/20 rounded px-2 py-1 inline-block">Protecci√≥n de Datos</div>
          </div>
          
          <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
            <div class="text-4xl mb-3">üìö</div>
            <h3 class="font-semibold text-lg mb-2">Recursos Acad√©micos</h3>
            <p class="text-sm text-slate-600">Materiales de estudio y documentaci√≥n</p>
          </div>
          
          <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
            <div class="text-4xl mb-3">üìä</div>
            <h3 class="font-semibold text-lg mb-2">Estad√≠sticas</h3>
            <p class="text-sm text-slate-600">Seguimiento acad√©mico</p>
          </div>
          
          <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
            <div class="text-4xl mb-3">üìÖ</div>
            <h3 class="font-semibold text-lg mb-2">Calendario</h3>
            <p class="text-sm text-slate-600">Horarios y eventos</p>
          </div>
          
          <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
            <div class="text-4xl mb-3">üìù</div>
            <h3 class="font-semibold text-lg mb-2">Tr√°mites</h3>
            <p class="text-sm text-slate-600">Gesti√≥n de documentos</p>
          </div>
          
          <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
            <div class="text-4xl mb-3">üì¢</div>
            <h3 class="font-semibold text-lg mb-2">Avisos</h3>
            <p class="text-sm text-slate-600">Comunicados importantes</p>
          </div>
        </div>

        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
          <h4 class="font-semibold mb-2 flex items-center gap-2">
            <span>üìå</span> Acceso R√°pido
          </h4>
          <p class="text-sm text-slate-700">Para gestionar tus datos personales y ejercer tu derecho al olvido, accede a <strong class="text-blue-600 cursor-pointer" onclick="showModule('arco')">Mesa de Partes Virtual - Derecho al Olvido</strong></p>
        </div>
      </div>
    </div>

    <!-- M√≥dulo Mi Perfil -->
    <div id="moduloPerfil" class="module hidden min-h-screen">
      <div class="max-w-5xl mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold mb-6">Mi Perfil</h2>
        
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div class="bg-white rounded-xl shadow p-6">
            <div class="flex justify-center mb-4">
              <div class="w-32 h-32 rounded-full bg-blue-100 flex items-center justify-center text-6xl">üë§</div>
            </div>
            <div class="text-center">
              <div class="font-bold text-lg mb-1" id="perfilNombre"></div>
              <div class="text-sm text-slate-600" id="perfilCodigo"></div>
            </div>
          </div>
          
          <div class="lg:col-span-2 bg-white rounded-xl shadow p-6">
            <h3 class="font-bold text-xl mb-4">Informaci√≥n Personal</h3>
            <div class="space-y-3">
              <div class="flex justify-between py-2 border-b">
                <span class="font-semibold text-slate-600">C√≥digo:</span>
                <span id="perfilCodigo2"></span>
              </div>
              <div class="flex justify-between py-2 border-b">
                <span class="font-semibold text-slate-600">Rol:</span>
                <span id="perfilRol"></span>
              </div>
              <div class="flex justify-between py-2 border-b">
                <span class="font-semibold text-slate-600">Correo Institucional:</span>
                <span class="text-blue-600">nombre.apellido@undac.edu.pe</span>
              </div>
              <div class="flex justify-between py-2 border-b">
                <span class="font-semibold text-slate-600">Estado:</span>
                <span class="text-green-600 font-semibold">‚óè Activo</span>
              </div>
              <div class="flex justify-between py-2">
                <span class="font-semibold text-slate-600">√öltimo acceso:</span>
                <span id="ultimoAcceso"></span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
          <h4 class="font-semibold mb-2">üîê Privacidad y Datos</h4>
          <p class="text-sm text-slate-700 mb-3">Gestiona tus datos personales y ejerce tus derechos ARCO</p>
          <button onclick="showModule('arco')" class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700">
            Ir a Derecho al Olvido
          </button>
        </div>
      </div>
    </div>

    <!-- M√≥dulo Pagos -->
    <div id="moduloPagos" class="module hidden min-h-screen">
      <div class="max-w-6xl mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold mb-6">Pagos en L√≠nea</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
          <div class="bg-green-50 border border-green-200 rounded-lg p-4">
            <div class="text-2xl font-bold text-green-600">S/. 0.00</div>
            <div class="text-sm text-slate-600">Pagos realizados</div>
          </div>
          <div class="bg-red-50 border border-red-200 rounded-lg p-4">
            <div class="text-2xl font-bold text-red-600">S/. 450.00</div>
            <div class="text-sm text-slate-600">Deuda pendiente</div>
          </div>
          <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
            <div class="text-2xl font-bold text-blue-600">3</div>
            <div class="text-sm text-slate-600">Conceptos pendientes</div>
          </div>
        </div>
        
        <div class="bg-white rounded-xl shadow p-6">
          <h3 class="font-bold text-xl mb-4">Conceptos de Pago</h3>
          <div class="space-y-3">
            <div class="flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50">
              <div>
                <div class="font-semibold">Matr√≠cula 2025-I</div>
                <div class="text-sm text-slate-600">Vencimiento: 15/03/2025</div>
              </div>
              <div class="text-right">
                <div class="font-bold text-lg">S/. 200.00</div>
                <button class="mt-1 px-4 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">Pagar</button>
              </div>
            </div>
            
            <div class="flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50">
              <div>
                <div class="font-semibold">Mensualidad Marzo</div>
                <div class="text-sm text-slate-600">Vencimiento: 10/03/2025</div>
              </div>
              <div class="text-right">
                <div class="font-bold text-lg">S/. 150.00</div>
                <button class="mt-1 px-4 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">Pagar</button>
              </div>
            </div>
            
            <div class="flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50">
              <div>
                <div class="font-semibold">Certificado de Estudios</div>
                <div class="text-sm text-slate-600">Tr√°mite pendiente</div>
              </div>
              <div class="text-right">
                <div class="font-bold text-lg">S/. 100.00</div>
                <button class="mt-1 px-4 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">Pagar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- M√≥dulo Aula Virtual -->
    <div id="moduloAula" class="module hidden min-h-screen">
      <div class="max-w-6xl mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold mb-6">Aula Virtual</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
          <div class="bg-white rounded-xl shadow p-6 hover:shadow-lg transition">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded bg-blue-100 flex items-center justify-center text-2xl">üíª</div>
              <div>
                <div class="font-semibold">Programaci√≥n I</div>
                <div class="text-xs text-slate-500">Prof. Garc√≠a L√≥pez</div>
              </div>
            </div>
            <div class="text-sm text-slate-600 mb-3">3 tareas pendientes</div>
            <button class="w-full px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700">Acceder</button>
          </div>
          
          <div class="bg-white rounded-xl shadow p-6 hover:shadow-lg transition">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded bg-green-100 flex items-center justify-center text-2xl">üìä</div>
              <div>
                <div class="font-semibold">Base de Datos</div>
                <div class="text-xs text-slate-500">Prof. Ram√≠rez Cruz</div>
              </div>
            </div>
            <div class="text-sm text-slate-600 mb-3">1 examen disponible</div>
            <button class="w-full px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700">Acceder</button>
          </div>
          
          <div class="bg-white rounded-xl shadow p-6 hover:shadow-lg transition">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded bg-purple-100 flex items-center justify-center text-2xl">üåê</div>
              <div>
                <div class="font-semibold">Redes I</div>
                <div class="text-xs text-slate-500">Prof. Torres M√©ndez</div>
              </div>
            </div>
            <div class="text-sm text-slate-600 mb-3">Al d√≠a</div>
            <button class="w-full px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700">Acceder</button>
          </div>
        </div>
        
        <div class="bg-white rounded-xl shadow p-6">
          <h3 class="font-bold text-xl mb-4">Pr√≥ximas Actividades</h3>
          <div class="space-y-3">
            <div class="flex items-center gap-3 p-3 border-l-4 border-red-500 bg-red-50 rounded">
              <div class="text-2xl">‚è∞</div>
              <div>
                <div class="font-semibold">Examen de Base de Datos</div>
                <div class="text-sm text-slate-600">Vence: Ma√±ana 18:00</div>
              </div>
            </div>
            
            <div class="flex items-center gap-3 p-3 border-l-4 border-yellow-500 bg-yellow-50 rounded">
              <div class="text-2xl">üìù</div>
              <div>
                <div class="font-semibold">Tarea: Algoritmos de Ordenamiento</div>
                <div class="text-sm text-slate-600">Vence: 10/10/2025 23:59</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- M√≥dulo ARCO - Derecho al Olvido -->
    <div id="moduloArco" class="module hidden">
      <div class="bg-gradient-to-r from-[#1e3a8a] to-[#2563eb] text-white">
        <div class="max-w-7xl mx-auto px-4 py-4">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="text-xl font-bold mb-1">Mesa de Partes Virtual ¬∑ Derecho al Olvido</h2>
              <div class="text-sm opacity-90">Tr√°mite ARCO ‚Äì Cancelaci√≥n/Supresi√≥n de Datos Personales</div>
            </div>
            <div class="text-right text-xs">
              <div>SLA: 3 d√≠as (1ra respuesta)</div>
              <div>20 d√≠as (cierre del expediente)</div>
            </div>
          </div>
        </div>
      </div>

      <main class="max-w-7xl mx-auto px-4 py-5 grid grid-cols-1 lg:grid-cols-12 gap-5">
        <!-- Lateral -->
        <aside class="lg:col-span-3 space-y-3">
          <div class="bg-white rounded-xl border border-slate-200 p-4">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 grid place-items-center text-2xl text-white">üë§</div>
              <div class="text-sm">
                <div class="font-semibold" id="arcoCodigo"></div>
                <div class="text-slate-500" id="arcoRol"></div>
              </div>
            </div>
            <hr class="my-3">
            <div class="text-xs text-slate-600 space-y-1">
              <div>üìß nombre.apellido@undac.edu.pe</div>
              <div>üïê √öltima sesi√≥n: <span id="arcoUltimoAcceso"></span></div>
            </div>
          </div>

          <div class="bg-white rounded-xl border border-slate-200 p-3">
            <div class="text-sm font-semibold mb-3 flex items-center gap-2">
              <span>‚ö°</span>Accesos r√°pidos
            </div>
            <div class="flex flex-col gap-2 text-sm">
              <button onclick="goPaso(0)" class="px-3 py-2 rounded border border-slate-200 hover:border-blue-600 hover:bg-blue-50 transition text-left">
                ‚ûï Nueva solicitud
              </button>
              <button onclick="goPaso(2)" class="px-3 py-2 rounded border border-slate-200 hover:border-blue-600 hover:bg-blue-50 transition text-left">
                üóÇÔ∏è Mis solicitudes
              </button>
              <button onclick="showPanel()" class="px-3 py-2 rounded border border-slate-200 hover:border-blue-600 hover:bg-blue-50 transition text-left">
                üìä Panel de m√©tricas
              </button>
            </div>
          </div>

          <div class="bg-blue-50 border border-blue-200 rounded-xl p-3">
            <div class="text-xs font-semibold mb-2 text-blue-900">‚ÑπÔ∏è Informaci√≥n</div>
            <p class="text-xs text-blue-800">El derecho al olvido te permite solicitar la eliminaci√≥n o anonimizaci√≥n de tus datos personales en los sistemas de UNDAC.</p>
          </div>
        </aside>

        <!-- Wizard -->
        <section class="lg:col-span-9">
          <ol class="grid grid-cols-3 gap-3 mb-4">
            <li class="step active rounded-xl border p-3 bg-white cursor-pointer" onclick="goPaso(0)">
              <div class="text-xs text-slate-500 mb-1">Paso 1</div>
              <div class="font-semibold">üìù Solicitar</div>
              <div class="text-xs text-slate-600 mt-1">Indica d√≥nde actuar</div>
            </li>
            <li class="step rounded-xl border border-slate-200 p-3 bg-white cursor-pointer" onclick="goPaso(1)">
              <div class="text-xs text-slate-500 mb-1">Paso 2</div>
              <div class="font-semibold">‚úÖ Revisar & Asegurar</div>
              <div class="text-xs text-slate-600 mt-1">Confirma y ejecuta</div>
            </li>
            <li class="step rounded-xl border border-slate-200 p-3 bg-white cursor-pointer" onclick="goPaso(2)">
              <div class="text-xs text-slate-500 mb-1">Paso 3</div>
              <div class="font-semibold">üëÅÔ∏è Transparencia</div>
              <div class="text-xs text-slate-600 mt-1">Seguimiento y constancia</div>
            </li>
          </ol>

          <!-- Paso 1: Solicitar -->
          <div id="paso1" class="bg-white rounded-xl border p-6 shadow-lg">
            <div class="flex items-start gap-3 mb-4">
              <div class="text-4xl">üõ°Ô∏è</div>
              <div>
                <h3 class="text-2xl font-bold mb-2">Solicitud de Derecho al Olvido</h3>
                <p class="text-sm text-slate-600">Selecciona los sistemas donde deseas ejercer tu derecho ARCO (Acceso, Rectificaci√≥n, Cancelaci√≥n y Oposici√≥n)</p>
              </div>
            </div>
            
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
              <div class="flex items-start gap-2">
                <span class="text-xl">‚ö†Ô∏è</span>
                <div class="text-sm">
                  <div class="font-semibold text-yellow-900 mb-1">Importante:</div>
                  <ul class="text-yellow-800 space-y-1 text-xs">
                    <li>‚Ä¢ Las notas, actas y registro acad√©mico NO se eliminan (archivo obligatorio)</li>
                    <li>‚Ä¢ El proceso puede tardar hasta 20 d√≠as h√°biles</li>
                    <li>‚Ä¢ Recibir√°s notificaciones en cada etapa del proceso</li>
                  </ul>
                </div>
              </div>
            </div>

            <form id="formSolicitud" class="space-y-6">
              <div>
                <label class="block font-semibold mb-3 text-lg">üìç ¬øD√≥nde quieres que atendamos tu pedido?</label>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                  <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition">
                    <input type="checkbox" class="sistemaCb mt-1" value="Correo Institucional" data-accion="Baja de cuenta">
                    <div>
                      <div class="font-semibold">üìß Correo Institucional</div>
                      <div class="text-xs text-slate-600">Baja completa de cuenta</div>
                    </div>
                  </label>

                  <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition">
                    <input type="checkbox" class="sistemaCb mt-1" value="Aula Virtual" data-accion="Anonimizar nombre en foros/tareas">
                    <div>
                      <div class="font-semibold">üéì Aula Virtual (LMS)</div>
                      <div class="text-xs text-slate-600">Anonimizar nombre en foros y tareas</div>
                    </div>
                  </label>

                  <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition">
                    <input type="checkbox" class="sistemaCb mt-1" value
                      ="Biblioteca Digital" data-accion="Eliminar historial de pr√©stamos">
                    <div>
                      <div class="font-semibold">üìö Biblioteca Digital</div>
                      <div class="text-xs text-slate-600">Eliminar historial de pr√©stamos</div>
                    </div>
                  </label>

                  <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition">
                    <input type="checkbox" class="sistemaCb mt-1" value="Sistema de Pagos" data-accion="Anonimizar datos de contacto">
                    <div>
                      <div class="font-semibold">üí≥ Sistema de Pagos</div>
                      <div class="text-xs text-slate-600">Anonimizar datos de contacto</div>
                    </div>
                  </label>

                  <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition">
                    <input type="checkbox" class="sistemaCb mt-1" value="Portal Web P√∫blico" data-accion="Eliminar publicaciones/comentarios">
                    <div>
                      <div class="font-semibold">üåê Portal Web P√∫blico</div>
                      <div class="text-xs text-slate-600">Eliminar publicaciones y comentarios</div>
                    </div>
                  </label>

                  <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition">
                    <input type="checkbox" class="sistemaCb mt-1" value="Sistema de Encuestas" data-accion="Anonimizar respuestas">
                    <div>
                      <div class="font-semibold">üìä Sistema de Encuestas</div>
                      <div class="text-xs text-slate-600">Anonimizar respuestas</div>
                    </div>
                  </label>
                </div>
              </div>

              <div>
                <label class="block font-semibold mb-2">üìù Motivo de la solicitud (opcional)</label>
                <textarea id="motivoSolicitud" rows="4" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Explica brevemente por qu√© deseas ejercer tu derecho al olvido..."></textarea>
              </div>

              <div class="flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                <input type="checkbox" id="aceptoTerminos" required class="mt-1">
                <label for="aceptoTerminos" class="text-sm text-slate-700">
                  Acepto que he le√≠do y entiendo que este proceso puede tardar hasta 20 d√≠as h√°biles y que algunos datos acad√©micos no podr√°n ser eliminados por obligaciones legales de la universidad.
                </label>
              </div>

              <div class="flex gap-3 justify-end">
                <button type="button" onclick="showModule('inicio')" class="px-6 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition">
                  Cancelar
                </button>
                <button type="submit" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold">
                  Continuar al paso 2 ‚Üí
                </button>
              </div>
            </form>
          </div>

          <!-- Paso 2: Revisar & Asegurar -->
          <div id="paso2" class="bg-white rounded-xl border p-6 shadow-lg hidden">
            <div class="flex items-start gap-3 mb-4">
              <div class="text-4xl">‚úÖ</div>
              <div>
                <h3 class="text-2xl font-bold mb-2">Revisar y Confirmar</h3>
                <p class="text-sm text-slate-600">Verifica los detalles de tu solicitud antes de enviarla</p>
              </div>
            </div>

            <div class="space-y-4 mb-6">
              <div class="bg-slate-50 rounded-lg p-4">
                <div class="font-semibold mb-2">Sistemas seleccionados:</div>
                <div id="resumenSistemas" class="space-y-2"></div>
              </div>

              <div class="bg-slate-50 rounded-lg p-4">
                <div class="font-semibold mb-2">Motivo:</div>
                <div id="resumenMotivo" class="text-sm text-slate-700"></div>
              </div>

              <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <div class="font-semibold mb-2 text-blue-900">üîê Verificaci√≥n de identidad</div>
                <p class="text-sm text-blue-800 mb-3">Por seguridad, ingresa tu contrase√±a para confirmar esta acci√≥n</p>
                <input type="password" id="confirmPassword" class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="Contrase√±a" required>
              </div>
            </div>

            <div class="flex gap-3 justify-end">
              <button type="button" onclick="goPaso(0)" class="px-6 py-3 border border-slate-300 rounded-lg hover:bg-slate-50 transition">
                ‚Üê Volver
              </button>
              <button type="button" onclick="enviarSolicitud()" class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold">
                ‚úì Confirmar y Enviar
              </button>
            </div>
          </div>

          <!-- Paso 3: Transparencia -->
          <div id="paso3" class="bg-white rounded-xl border p-6 shadow-lg hidden">
            <div class="flex items-start gap-3 mb-4">
              <div class="text-4xl">üëÅÔ∏è</div>
              <div>
                <h3 class="text-2xl font-bold mb-2">Seguimiento y Transparencia</h3>
                <p class="text-sm text-slate-600">Visualiza el estado de tus solicitudes</p>
              </div>
            </div>

            <div id="listaSolicitudes" class="space-y-3">
              <div class="bg-slate-50 rounded-lg p-4 text-center text-slate-500">
                No tienes solicitudes previas. Crea una nueva solicitud en el Paso 1.
              </div>
            </div>

            <div class="mt-6 flex gap-3 justify-end">
              <button type="button" onclick="goPaso(0)" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                Nueva solicitud
              </button>
            </div>
          </div>

          <!-- Panel de M√©tricas -->
          <div id="panelMetricas" class="bg-white rounded-xl border p-6 shadow-lg hidden">
            <div class="flex items-start justify-between mb-4">
              <div class="flex items-start gap-3">
                <div class="text-4xl">üìä</div>
                <div>
                  <h3 class="text-2xl font-bold mb-2">Panel de M√©tricas</h3>
                  <p class="text-sm text-slate-600">Estad√≠sticas del sistema de Derecho al Olvido</p>
                </div>
              </div>
              <button onclick="hidePanelMetricas()" class="text-2xl hover:bg-slate-100 rounded px-2">√ó</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
              <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <div class="text-3xl font-bold text-blue-600">0</div>
                <div class="text-sm text-slate-600">Solicitudes totales</div>
              </div>
              <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                <div class="text-3xl font-bold text-green-600">0</div>
                <div class="text-sm text-slate-600">Completadas</div>
              </div>
              <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <div class="text-3xl font-bold text-yellow-600">0</div>
                <div class="text-sm text-slate-600">En proceso</div>
              </div>
            </div>

            <div class="bg-slate-50 rounded-lg p-4">
              <div class="font-semibold mb-2">Tiempo promedio de respuesta</div>
              <div class="text-2xl font-bold text-slate-700">N/A</div>
              <div class="text-xs text-slate-500 mt-1">A√∫n no hay datos suficientes</div>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <script>
    // Variables globales
    let usuarioActual = {
      rol: '',
      codigo: '',
      nombre: 'POMA PALACIOS, Alisson Naily'
    };
    let solicitudesArco = [];
    let solicitudActual = {
      sistemas: [],
      motivo: ''
    };

    // Login
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const rol = document.getElementById('rolSelect').value;
      const codigo = document.getElementById('codigoInput').value;
      const password = document.getElementById('passwordInput').value;

      if (!rol) {
        alert('Por favor selecciona un rol');
        return;
      }

      usuarioActual.rol = rol;
      usuarioActual.codigo = codigo;

      document.getElementById('loginScreen').classList.add('hidden');
      document.getElementById('appScreen').classList.remove('hidden');
      
      actualizarDatosUsuario();
      showModule('inicio');
    });

    function actualizarDatosUsuario() {
      const ahora = new Date().toLocaleString('es-PE');
      
      document.getElementById('headerNombre').textContent = usuarioActual.nombre;
      document.getElementById('perfilNombre').textContent = usuarioActual.nombre;
      document.getElementById('perfilCodigo').textContent = usuarioActual.codigo;
      document.getElementById('perfilCodigo2').textContent = usuarioActual.codigo;
      document.getElementById('perfilRol').textContent = usuarioActual.rol;
      document.getElementById('ultimoAcceso').textContent = ahora;
      
      document.getElementById('arcoCodigo').textContent = usuarioActual.codigo;
      document.getElementById('arcoRol').textContent = usuarioActual.rol;
      document.getElementById('arcoUltimoAcceso').textContent = ahora;
    }

    function showModule(moduleName) {
      const modules = document.querySelectorAll('.module');
      modules.forEach(m => m.classList.add('hidden'));
      
      const moduleMap = {
        'inicio': 'moduloInicio',
        'perfil': 'moduloPerfil',
        'pagos': 'moduloPagos',
        'aula': 'moduloAula',
        'arco': 'moduloArco'
      };
      
      const targetModule = document.getElementById(moduleMap[moduleName]);
      if (targetModule) {
        targetModule.classList.remove('hidden');
        targetModule.classList.add('fade-in');
        
        if (moduleName === 'arco') {
          goPaso(0);
        }
      }
    }

    function cerrarSesion() {
      if (confirm('¬øEst√°s seguro de cerrar sesi√≥n?')) {
        document.getElementById('appScreen').classList.add('hidden');
        document.getElementById('loginScreen').classList.remove('hidden');
        document.getElementById('loginForm').reset();
      }
    }

    // ARCO - Wizard
    function goPaso(num) {
      const steps = document.querySelectorAll('.step');
      const pasos = [
        document.getElementById('paso1'),
        document.getElementById('paso2'),
        document.getElementById('paso3')
      ];
      
      document.getElementById('panelMetricas').classList.add('hidden');
      
      steps.forEach((s, i) => {
        s.classList.remove('active');
        pasos[i].classList.add('hidden');
      });
      
      steps[num].classList.add('active');
      pasos[num].classList.remove('hidden');
      pasos[num].classList.add('fade-in');
      
      if (num === 2) {
        cargarSolicitudes();
      }
    }

    document.getElementById('formSolicitud').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const checkboxes = document.querySelectorAll('.sistemaCb:checked');
      if (checkboxes.length === 0) {
        alert('Debes seleccionar al menos un sistema');
        return;
      }
      
      if (!document.getElementById('aceptoTerminos').checked) {
        alert('Debes aceptar los t√©rminos y condiciones');
        return;
      }
      
      solicitudActual.sistemas = [];
      checkboxes.forEach(cb => {
        solicitudActual.sistemas.push({
          nombre: cb.value,
          accion: cb.dataset.accion
        });
      });
      
      solicitudActual.motivo = document.getElementById('motivoSolicitud').value || 'No especificado';
      
      mostrarResumen();
      goPaso(1);
    });

    function mostrarResumen() {
      const resumenDiv = document.getElementById('resumenSistemas');
      resumenDiv.innerHTML = '';
      
      solicitudActual.sistemas.forEach(s => {
        const div = document.createElement('div');
        div.className = 'text-sm p-2 bg-white rounded border';
        div.innerHTML = `<strong>${s.nombre}</strong>: ${s.accion}`;
        resumenDiv.appendChild(div);
      });
      
      document.getElementById('resumenMotivo').textContent = solicitudActual.motivo;
    }

    function enviarSolicitud() {
      const password = document.getElementById('confirmPassword').value;
      
      if (!password) {
        alert('Ingresa tu contrase√±a para confirmar');
        return;
      }
      
      const nuevaSolicitud = {
        id: 'ARCO-' + Date.now(),
        fecha: new Date().toLocaleString('es-PE'),
        sistemas: [...solicitudActual.sistemas],
        motivo: solicitudActual.motivo,
        estado: 'En revisi√≥n',
        progreso: 25
      };
      
      solicitudesArco.push(nuevaSolicitud);
      
      alert('‚úÖ Solicitud enviada correctamente\n\nN√∫mero de expediente: ' + nuevaSolicitud.id + '\n\nRecibir√°s notificaciones sobre el estado de tu solicitud.');
      
      document.getElementById('formSolicitud').reset();
      document.getElementById('confirmPassword').value = '';
      solicitudActual = { sistemas: [], motivo: '' };
      
      goPaso(2);
    }

    function cargarSolicitudes() {
      const listaDiv = document.getElementById('listaSolicitudes');
      
      if (solicitudesArco.length === 0) {
        listaDiv.innerHTML = '<div class="bg-slate-50 rounded-lg p-4 text-center text-slate-500">No tienes solicitudes previas. Crea una nueva solicitud en el Paso 1.</div>';
        return;
      }
      
      listaDiv.innerHTML = '';
      
      solicitudesArco.forEach(sol => {
        const div = document.createElement('div');
        div.className = 'border border-slate-200 rounded-lg p-4 hover:shadow-md transition';
        
        const estadoColor = sol.estado === 'Completada' ? 'green' : sol.estado === 'En revisi√≥n' ? 'yellow' : 'blue';
        
        div.innerHTML = `
          <div class="flex items-start justify-between mb-3">
            <div>
              <div class="font-semibold text-lg">${sol.id}</div>
              <div class="text-xs text-slate-500">Fecha: ${sol.fecha}</div>
            </div>
            <div class="px-3 py-1 rounded-full text-xs font-semibold bg-${estadoColor}-100 text-${estadoColor}-700">
              ${sol.estado}
            </div>
          </div>
          
          <div class="mb-3">
            <div class="text-sm font-semibold mb-1">Sistemas:</div>
            <div class="text-xs text-slate-600">
              ${sol.sistemas.map(s => s.nombre).join(', ')}
            </div>
          </div>
          
          <div class="mb-3">
            <div class="flex items-center justify-between text-xs mb-1">
              <span>Progreso</span>
              <span>${sol.progreso}%</span>
            </div>
            <div class="w-full bg-slate-200 rounded-full h-2">
              <div class="bg-blue-600 h-2 rounded-full transition-all" style="width: ${sol.progreso}%"></div>
            </div>
          </div>
          
          <button onclick="verDetalleSolicitud('${sol.id}')" class="text-sm text-blue-600 hover:text-blue-700">
            Ver detalles ‚Üí
          </button>
        `;
        
        listaDiv.appendChild(div);
      });
    }

    function verDetalleSolicitud(id) {
      const sol = solicitudesArco.find(s => s.id === id);
      if (!sol) return;
      
      let detalles = `Expediente: ${sol.id}\n`;
      detalles += `Fecha: ${sol.fecha}\n`;
      detalles += `Estado: ${sol.estado}\n\n`;
      detalles += `Sistemas seleccionados:\n`;
      sol.sistemas.forEach(s => {
        detalles += `‚Ä¢ ${s.nombre}: ${s.accion}\n`;
      });
      detalles += `\nMotivo:\n${sol.motivo}`;
      
      alert(detalles);
    }

    function showPanel() {
      const pasos = document.querySelectorAll('#paso1, #paso2, #paso3');
      pasos.forEach(p => p.classList.add('hidden'));
      
      // Actualizar m√©tricas
      const totalSolicitudes = solicitudesArco.length;
      const completadas = solicitudesArco.filter(s => s.estado === 'Completada').length;
      const enProceso = solicitudesArco.filter(s => s.estado === 'En revisi√≥n' || s.estado === 'En proceso').length;
      
      // Actualizar los valores en el DOM
      document.querySelector('#panelMetricas .bg-blue-50 .text-3xl').textContent = totalSolicitudes;
      document.querySelector('#panelMetricas .bg-green-50 .text-3xl').textContent = completadas;
      document.querySelector('#panelMetricas .bg-yellow-50 .text-3xl').textContent = enProceso;
      
      // Calcular tiempo promedio (opcional - por ahora lo dejamos en N/A)
      const tiempoPromedioDiv = document.querySelector('#panelMetricas .bg-slate-50 .text-2xl');
      if (totalSolicitudes > 0) {
        tiempoPromedioDiv.textContent = '3-5 d√≠as';
        tiempoPromedioDiv.nextElementSibling.textContent = 'Basado en ' + totalSolicitudes + ' solicitud(es)';
      } else {
        tiempoPromedioDiv.textContent = 'N/A';
        tiempoPromedioDiv.nextElementSibling.textContent = 'A√∫n no hay datos suficientes';
      }
      
      document.getElementById('panelMetricas').classList.remove('hidden');
      document.getElementById('panelMetricas').classList.add('fade-in');
    }

    function hidePanelMetricas() {
      document.getElementById('panelMetricas').classList.add('hidden');
      goPaso(0);
    }
  </script>
</body>
</html>
